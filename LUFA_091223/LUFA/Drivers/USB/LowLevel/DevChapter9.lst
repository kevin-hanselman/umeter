   1               		.file	"DevChapter9.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__CCP__ = 0x34
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
  15               	.Ltext0:
  16               		.section	.text.USB_Device_ProcessControlRequest,"ax",@progbits
  17               	.global	USB_Device_ProcessControlRequest
  19               	USB_Device_ProcessControlRequest:
  20               	.LFB18:
  21               	.LSM0:
  22 0000 1F93      		push r17
  23 0002 DF93      		push r29
  24 0004 CF93      		push r28
  25 0006 00D0      		rcall .
  26 0008 CDB7      		in r28,__SP_L__
  27 000a DEB7      		in r29,__SP_H__
  28               	/* prologue: function */
  29               	/* frame size = 2 */
  30               	/* stack size = 5 */
  31               	.L__stack_usage = 5
  32               	.LVL0:
  33               	.LSM1:
  34 000c E0E0      		ldi r30,lo8(USB_ControlRequest)
  35 000e F0E0      		ldi r31,hi8(USB_ControlRequest)
  36               	.LVL1:
  37               	.L2:
  38               	.LBB34:
  39               	.LBB35:
  40               	.LBB36:
  41               	.LSM2:
  42 0010 8091 F100 		lds r24,241
  43               	.LBE36:
  44               	.LBE35:
  45               	.LSM3:
  46 0014 8193      		st Z+,r24
  47               	.LVL2:
  48               	.LSM4:
  49 0016 80E0      		ldi r24,hi8(USB_ControlRequest+8)
  50 0018 E030      		cpi r30,lo8(USB_ControlRequest+8)
  51 001a F807      		cpc r31,r24
  52 001c 01F4      		brne .L2
  53               	.LBE34:
  54               	.LSM5:
  55 001e 8091 0000 		lds r24,USB_ControlRequest
  56               	.LVL3:
  57               	.LSM6:
  58 0022 2091 0000 		lds r18,USB_ControlRequest+1
  59 0026 2530      		cpi r18,lo8(5)
  60 0028 01F4      		brne .+2
  61 002a 00C0      		rjmp .L6
  62 002c 2630      		cpi r18,lo8(6)
  63 002e 00F4      		brsh .L10
  64 0030 2130      		cpi r18,lo8(1)
  65 0032 01F0      		breq .L5
  66 0034 2130      		cpi r18,lo8(1)
  67 0036 00F0      		brlo .L4
  68 0038 2330      		cpi r18,lo8(3)
  69 003a 01F0      		breq .+2
  70 003c 00C0      		rjmp .L3
  71 003e 00C0      		rjmp .L5
  72               	.L10:
  73 0040 2830      		cpi r18,lo8(8)
  74 0042 01F4      		brne .+2
  75 0044 00C0      		rjmp .L8
  76 0046 2930      		cpi r18,lo8(9)
  77 0048 01F4      		brne .+2
  78 004a 00C0      		rjmp .L9
  79 004c 2630      		cpi r18,lo8(6)
  80 004e 01F0      		breq .+2
  81 0050 00C0      		rjmp .L3
  82 0052 00C0      		rjmp .L34
  83               	.L4:
  84               	.LSM7:
  85 0054 8038      		cpi r24,lo8(-128)
  86 0056 01F0      		breq .L11
  87               	.LSM8:
  88 0058 8238      		cpi r24,lo8(-126)
  89 005a 01F0      		breq .+2
  90 005c 00C0      		rjmp .L3
  91 005e 00C0      		rjmp .L35
  92               	.L11:
  93               	.LVL4:
  94               	.LSM9:
  95 0060 8091 0000 		lds r24,USB_CurrentlySelfPowered
  96               	.LVL5:
  97               	.LBB37:
  98               	.LBB38:
  99               	.LSM10:
 100 0064 9091 0000 		lds r25,USB_RemoteWakeupEnabled
 101 0068 9923      		tst r25
 102 006a 01F0      		breq .L13
 103               	.LSM11:
 104 006c 8260      		ori r24,lo8(2)
 105               	.LVL6:
 106 006e 00C0      		rjmp .L13
 107               	.LVL7:
 108               	.L35:
 109               	.LSM12:
 110 0070 8091 0000 		lds r24,USB_ControlRequest+4
 111 0074 8093 E900 		sts 233,r24
 112               	.LSM13:
 113 0078 9091 EB00 		lds r25,235
 114 007c 81E0      		ldi r24,lo8(1)
 115 007e 95FF      		sbrs r25,5
 116 0080 80E0      		ldi r24,lo8(0)
 117               	.L14:
 118               	.LVL8:
 119               	.LSM14:
 120 0082 1092 E900 		sts 233,__zero_reg__
 121               	.L13:
 122               	.LSM15:
 123 0086 9091 E800 		lds r25,232
 124 008a 977F      		andi r25,lo8(-9)
 125 008c 9093 E800 		sts 232,r25
 126               	.LVL9:
 127               	.LBB39:
 128               	.LBB40:
 129               	.LSM16:
 130 0090 8093 F100 		sts 241,r24
 131               	.LSM17:
 132 0094 1092 F100 		sts 241,__zero_reg__
 133 0098 00C0      		rjmp .L32
 134               	.LVL10:
 135               	.L5:
 136               	.LBE40:
 137               	.LBE39:
 138               	.LBE38:
 139               	.LBE37:
 140               	.LSM18:
 141 009a 8823      		tst r24
 142 009c 01F0      		breq .L16
 143               	.LSM19:
 144 009e 8230      		cpi r24,lo8(2)
 145 00a0 01F0      		breq .+2
 146 00a2 00C0      		rjmp .L3
 147               	.L16:
 148               	.LBB41:
 149               	.LBB42:
 150               	.LSM20:
 151 00a4 90E0      		ldi r25,lo8(0)
 152 00a6 8F71      		andi r24,lo8(31)
 153 00a8 9070      		andi r25,hi8(31)
 154 00aa 0097      		sbiw r24,0
 155 00ac 01F0      		breq .L17
 156 00ae 8230      		cpi r24,2
 157 00b0 9105      		cpc r25,__zero_reg__
 158 00b2 01F0      		breq .+2
 159 00b4 00C0      		rjmp .L27
 160 00b6 00C0      		rjmp .L36
 161               	.L17:
 162               	.LSM21:
 163 00b8 8091 0000 		lds r24,USB_ControlRequest+2
 164 00bc 8130      		cpi r24,lo8(1)
 165 00be 01F0      		breq .+2
 166 00c0 00C0      		rjmp .L27
 167               	.LSM22:
 168 00c2 2330      		cpi r18,lo8(3)
 169 00c4 01F0      		breq .L19
 170 00c6 80E0      		ldi r24,lo8(0)
 171               	.L19:
 172 00c8 8093 0000 		sts USB_RemoteWakeupEnabled,r24
 173 00cc 00C0      		rjmp .L20
 174               	.L36:
 175               	.LSM23:
 176 00ce 8091 0000 		lds r24,USB_ControlRequest+2
 177 00d2 8823      		tst r24
 178 00d4 01F4      		brne .L20
 179               	.LBB43:
 180               	.LSM24:
 181 00d6 2091 0000 		lds r18,USB_ControlRequest+4
 182 00da 2770      		andi r18,lo8(7)
 183               	.LVL11:
 184               	.LSM25:
 185 00dc 01F4      		brne .+2
 186 00de 00C0      		rjmp .L27
 187               	.LSM26:
 188 00e0 2093 E900 		sts 233,r18
 189               	.LSM27:
 190 00e4 8091 EB00 		lds r24,235
 191 00e8 80FF      		sbrs r24,0
 192 00ea 00C0      		rjmp .L20
 193               	.LSM28:
 194 00ec 8091 0000 		lds r24,USB_ControlRequest+1
 195 00f0 8330      		cpi r24,lo8(3)
 196 00f2 01F4      		brne .L21
 197               	.LSM29:
 198 00f4 8091 EB00 		lds r24,235
 199 00f8 8062      		ori r24,lo8(32)
 200 00fa 00C0      		rjmp .L31
 201               	.L21:
 202               	.LSM30:
 203 00fc 8091 EB00 		lds r24,235
 204 0100 8061      		ori r24,lo8(16)
 205 0102 8093 EB00 		sts 235,r24
 206               	.LSM31:
 207 0106 81E0      		ldi r24,lo8(1)
 208 0108 90E0      		ldi r25,hi8(1)
 209 010a 00C0      		rjmp 2f
 210 010c 880F      	1:	lsl r24
 211 010e 991F      		rol r25
 212 0110 2A95      	2:	dec r18
 213 0112 02F4      		brpl 1b
 214 0114 8093 EA00 		sts 234,r24
 215 0118 1092 EA00 		sts 234,__zero_reg__
 216               	.LSM32:
 217 011c 8091 EB00 		lds r24,235
 218 0120 8860      		ori r24,lo8(8)
 219               	.L31:
 220 0122 8093 EB00 		sts 235,r24
 221               	.LVL12:
 222               	.L20:
 223               	.LBE43:
 224               	.LSM33:
 225 0126 1092 E900 		sts 233,__zero_reg__
 226               	.LSM34:
 227 012a 8091 E800 		lds r24,232
 228 012e 877F      		andi r24,lo8(-9)
 229 0130 00C0      		rjmp .L33
 230               	.L6:
 231               	.LBE42:
 232               	.LBE41:
 233               	.LSM35:
 234 0132 8823      		tst r24
 235 0134 01F0      		breq .+2
 236 0136 00C0      		rjmp .L3
 237               	.LBB44:
 238               	.LBB45:
 239               	.LSM36:
 240 0138 1091 0000 		lds r17,USB_ControlRequest+2
 241               	.LVL13:
 242               	.LSM37:
 243 013c 8091 E800 		lds r24,232
 244 0140 877F      		andi r24,lo8(-9)
 245 0142 8093 E800 		sts 232,r24
 246               	.LSM38:
 247 0146 0E94 0000 		call Endpoint_ClearStatusStage
 248               	.LVL14:
 249               	.L26:
 250               	.LSM39:
 251 014a 8091 E800 		lds r24,232
 252 014e 80FF      		sbrs r24,0
 253 0150 00C0      		rjmp .L22
 254               	.LSM40:
 255 0152 1F77      		andi r17,lo8(127)
 256               	.LVL15:
 257               	.LSM41:
 258 0154 01F0      		breq .L23
 259               	.LSM42:
 260 0156 83E0      		ldi r24,lo8(3)
 261 0158 8093 0000 		sts USB_DeviceState,r24
 262               	.L23:
 263               	.LSM43:
 264 015c 1068      		ori r17,lo8(-128)
 265 015e 1093 E300 		sts 227,r17
 266 0162 00C0      		rjmp .L27
 267               	.LVL16:
 268               	.L34:
 269               	.LBE45:
 270               	.LBE44:
 271               	.LSM44:
 272 0164 8058      		subi r24,lo8(-(-128))
 273               	.LVL17:
 274 0166 8230      		cpi r24,lo8(2)
 275 0168 00F0      		brlo .+2
 276 016a 00C0      		rjmp .L3
 277               	.LBB47:
 278               	.LBB48:
 279               	.LSM45:
 280 016c 8091 0000 		lds r24,USB_ControlRequest+2
 281 0170 9091 0000 		lds r25,USB_ControlRequest+2+1
 282 0174 6091 0000 		lds r22,USB_ControlRequest+4
 283 0178 AE01      		movw r20,r28
 284 017a 4F5F      		subi r20,lo8(-(1))
 285 017c 5F4F      		sbci r21,hi8(-(1))
 286 017e 0E94 0000 		call CALLBACK_USB_GetDescriptor
 287               	.LVL18:
 288 0182 BC01      		movw r22,r24
 289               	.LVL19:
 290 0184 0097      		sbiw r24,0
 291 0186 01F4      		brne .+2
 292 0188 00C0      		rjmp .L27
 293               	.LSM46:
 294 018a 8091 E800 		lds r24,232
 295               	.LVL20:
 296 018e 877F      		andi r24,lo8(-9)
 297 0190 8093 E800 		sts 232,r24
 298               	.LVL21:
 299               	.LSM47:
 300 0194 8981      		ldd r24,Y+1
 301 0196 9A81      		ldd r25,Y+2
 302 0198 0E94 0000 		call Endpoint_Write_Control_PStream_LE
 303               	.LVL22:
 304               	.LBB49:
 305               	.LSM48:
 306 019c 8091 E800 		lds r24,232
 307               	.LVL23:
 308 01a0 982F      		mov r25,r24
 309 01a2 9B7F      		andi r25,lo8(-5)
 310 01a4 9093 E800 		sts 232,r25
 311 01a8 8F77      		andi r24,lo8(127)
 312               	.LVL24:
 313 01aa 8093 E800 		sts 232,r24
 314 01ae 00C0      		rjmp .L27
 315               	.LVL25:
 316               	.L8:
 317               	.LBE49:
 318               	.LBE48:
 319               	.LBE47:
 320               	.LSM49:
 321 01b0 8038      		cpi r24,lo8(-128)
 322 01b2 01F4      		brne .L3
 323               	.LBB50:
 324               	.LBB51:
 325               	.LSM50:
 326 01b4 8091 E800 		lds r24,232
 327               	.LVL26:
 328 01b8 877F      		andi r24,lo8(-9)
 329 01ba 8093 E800 		sts 232,r24
 330               	.LSM51:
 331 01be 8091 0000 		lds r24,USB_ConfigurationNumber
 332               	.LVL27:
 333               	.LBB52:
 334               	.LBB53:
 335               	.LSM52:
 336 01c2 8093 F100 		sts 241,r24
 337               	.LVL28:
 338               	.L32:
 339               	.LBE53:
 340               	.LBE52:
 341               	.LBB54:
 342               	.LSM53:
 343 01c6 8091 E800 		lds r24,232
 344               	.LVL29:
 345 01ca 982F      		mov r25,r24
 346 01cc 9E7F      		andi r25,lo8(-2)
 347 01ce 9093 E800 		sts 232,r25
 348 01d2 8F77      		andi r24,lo8(127)
 349               	.LVL30:
 350               	.L33:
 351 01d4 8093 E800 		sts 232,r24
 352               	.LBE54:
 353               	.LSM54:
 354 01d8 0E94 0000 		call Endpoint_ClearStatusStage
 355               	.LVL31:
 356 01dc 00C0      		rjmp .L27
 357               	.LVL32:
 358               	.L9:
 359               	.LBE51:
 360               	.LBE50:
 361               	.LSM55:
 362 01de 8823      		tst r24
 363 01e0 01F4      		brne .L3
 364               	.LBB55:
 365               	.LBB56:
 366               	.LSM56:
 367 01e2 9091 0000 		lds r25,USB_ControlRequest+2
 368 01e6 9230      		cpi r25,lo8(2)
 369 01e8 00F4      		brsh .L27
 370               	.LSM57:
 371 01ea 8091 E800 		lds r24,232
 372               	.LVL33:
 373 01ee 877F      		andi r24,lo8(-9)
 374 01f0 8093 E800 		sts 232,r24
 375               	.LSM58:
 376 01f4 9093 0000 		sts USB_ConfigurationNumber,r25
 377               	.LSM59:
 378 01f8 0E94 0000 		call Endpoint_ClearStatusStage
 379               	.LVL34:
 380               	.LSM60:
 381 01fc 8091 0000 		lds r24,USB_ConfigurationNumber
 382 0200 8823      		tst r24
 383 0202 01F0      		breq .L28
 384 0204 84E0      		ldi r24,lo8(4)
 385 0206 00C0      		rjmp .L24
 386               	.L28:
 387 0208 83E0      		ldi r24,lo8(3)
 388               	.L24:
 389 020a 8093 0000 		sts USB_DeviceState,r24
 390               	.LSM61:
 391 020e 0E94 0000 		call EVENT_USB_Device_ConfigurationChanged
 392 0212 00C0      		rjmp .L27
 393               	.LVL35:
 394               	.L3:
 395               	.LBE56:
 396               	.LBE55:
 397               	.LSM62:
 398 0214 0E94 0000 		call EVENT_USB_Device_UnhandledControlRequest
 399               	.LVL36:
 400               	.L27:
 401               	.LSM63:
 402 0218 8091 E800 		lds r24,232
 403 021c 83FF      		sbrs r24,3
 404 021e 00C0      		rjmp .L1
 405               	.LSM64:
 406 0220 8091 EB00 		lds r24,235
 407 0224 8062      		ori r24,lo8(32)
 408 0226 8093 EB00 		sts 235,r24
 409               	.LSM65:
 410 022a 8091 E800 		lds r24,232
 411 022e 877F      		andi r24,lo8(-9)
 412 0230 8093 E800 		sts 232,r24
 413 0234 00C0      		rjmp .L1
 414               	.LVL37:
 415               	.L22:
 416               	.LBB57:
 417               	.LBB46:
 418               	.LSM66:
 419 0236 8091 0000 		lds r24,USB_DeviceState
 420 023a 8823      		tst r24
 421 023c 01F0      		breq .+2
 422 023e 00C0      		rjmp .L26
 423 0240 00C0      		rjmp .L27
 424               	.LVL38:
 425               	.L1:
 426               	/* epilogue start */
 427               	.LBE46:
 428               	.LBE57:
 429               	.LSM67:
 430 0242 0F90      		pop __tmp_reg__
 431 0244 0F90      		pop __tmp_reg__
 432 0246 CF91      		pop r28
 433 0248 DF91      		pop r29
 434 024a 1F91      		pop r17
 435 024c 0895      		ret
 436               	.LFE18:
 438               		.comm USB_ConfigurationNumber,1,1
 439               		.comm USB_RemoteWakeupEnabled,1,1
 440               		.comm USB_CurrentlySelfPowered,1,1
 465               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:0000000000000000 DevChapter9.c
     /tmp/ccykOf8m.s:2      *ABS*:000000000000003f __SREG__
     /tmp/ccykOf8m.s:3      *ABS*:000000000000003e __SP_H__
     /tmp/ccykOf8m.s:4      *ABS*:000000000000003d __SP_L__
     /tmp/ccykOf8m.s:5      *ABS*:0000000000000034 __CCP__
     /tmp/ccykOf8m.s:6      *ABS*:0000000000000000 __tmp_reg__
     /tmp/ccykOf8m.s:7      *ABS*:0000000000000001 __zero_reg__
     /tmp/ccykOf8m.s:19     .text.USB_Device_ProcessControlRequest:0000000000000000 USB_Device_ProcessControlRequest
                            *COM*:0000000000000001 USB_CurrentlySelfPowered
                            *COM*:0000000000000001 USB_RemoteWakeupEnabled
                            *COM*:0000000000000001 USB_ConfigurationNumber

UNDEFINED SYMBOLS
USB_ControlRequest
Endpoint_ClearStatusStage
USB_DeviceState
CALLBACK_USB_GetDescriptor
Endpoint_Write_Control_PStream_LE
EVENT_USB_Device_ConfigurationChanged
EVENT_USB_Device_UnhandledControlRequest
__do_clear_bss
